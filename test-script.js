const generateInvoiceFromPowo = require("./src/pupeteer-invoice");

const details = {
  powo: {
    attachments: [],
    freightCharges: 0,
    additionalDiscount: 0,
    additionalCharges: 0,
    oneToMany: true,
    isApproved: false,
    isDiscarded: false,
    isDeclined: false,
    isActive: true,
    _id: "60cf004e51482e042b1ae884",
    idAddedBy: "6071bd0e0a19e0001571b137",
    idProject: "60c9f656797c3e00151cc535",
    idOrg: {
      onTrial: true,
      _id: "60ce113b7bab1d74d9f9b08f",
      idAddedBy: "6071bd0e0a19e0001571b137",
      name: "multiple vendor test",
      address: "test org 2",
      imgUrl:
        "https://mysite-user-images.s3.ap-south-1.amazonaws.com/1620284314416",
      city: "some city",
      country: null,
      termsAndConditions: null,
      pan: "some pan",
      pin: 462045,
      gst: "some gst",
      gstAndAddress: [[Object]],
      trialStarts: "1970-01-01T00:00:00.019Z",
      trialEnds: "1970-01-01T00:00:00.094Z",
      createdAt: "2021-06-19T15:46:03.734Z",
      updatedAt: "2021-06-19T15:46:03.734Z",
      __v: 0,
    },
    idVendor: {
      vendorType: ["tiles"],
      tags: [],
      isVerified: true,
      isActive: true,
      isDeleted: false,
      _id: "60c2eeeb1cdb2c0015b793be",
      idAddedBy: "60970b3f58c68a0015f3e052",
      idUser: "60c2eeeb1cdb2c0015b793bd",
      idOrg: "60970bed58c68a0015f3e067",
      idProject: "60c2d089ff58c40015bcfdc3",
      vendorName: "194 vendor",
      pincode: null,
      contactPerson: "yogi",
      designation: "tie maker",
      phoneNumber: "6005662461",
      emailId: "reachmountainboi@gmail.com",
      gstin: "BBBB",
      gstTreatment: null,
      pan: null,
      billingAddress: "nn",
      bankAccountHoldersName: null,
      bankAccount: null,
      bankIFSC: null,
      paymentTerms: null,
      bomPricing: null,
      uploadedDocuments: null,
      termsAndConditions: null,
      createdAt: "2021-06-11T05:04:43.989Z",
      updatedAt: "2021-06-16T11:37:54.677Z",
      __v: 0,
    },
    isDraft: null,
    buyersName: "54321Org",
    deliveryDate: "2021-06-15T18:30:00.000Z",
    location: "Mig 363 KATARA HILLS",
    createdBy: "5432100001",
    orderType: "PO",
    vendorName: "194 vendor",
    poNumber: "multi-2021-28",
    gst: 0,
    gstType: "1",
    gstNumber: 1,
    totalPayment: 4200,
    paymentAtDelivery: null,
    termsAndConditions: `1. Term\n2. and\n3. Conditions`,
    customPaymentTerms: [
      {
        _id: "60cf004e51482e042b1ae885",
        label: "Payment before Delivery",
        value: 0,
      },
      {
        _id: "60cf004e51482e042b1ae886",
        label: "Payment after Delivery",
        value: 0,
      },
      {
        _id: "60cf004e51482e042b1ae887",
        label: "Payment after invoice generation",
        value: 100,
      },
    ],
    paymentAfterInvoice: null,
    paymentBeforeDelivery: null,
    paymentAfterInvoiceDays: null,
    approvedHierarchy:
      '[{"approver":"60970cc358c68a0015f3e079","isApproved":false,"threshold":0,"priority":0}]',
    signImageUrl: null,
    customCharges: [
      {
        _id: "60cf004e51482e042b1ae888",
        label: "Transport Charges",
        value: 0,
      },
    ],
    createdAt: "2021-06-20T08:46:06.300Z",
    updatedAt: "2021-06-20T08:46:06.300Z",
    __v: 0,
  },
  powoItems: [
    {
      idBoms: [
        {
          idBoq: "60b279c20a022200154fe1b8",
          key: "60b279c20a022200154fe1b80",
          name: "aa",
          categoryName: "aa",
          description: "aa",
          unit: "aa",
          make: "aa",
          quantity: 8,
          costPrice: 90,
          sellingPrice: 900,
          poPrice: 890,
          poTotal: 7120,
          tax: {
            type: "5% CGST & SGST",
            value: 5,
            id: "5-cgst-sgst",
          },
        },
        {
          idBoq: "60b279c20a022200154fe1b8",
          key: "60b279c20a022200154fe1b80",
          name: "aa",
          categoryName: "aa",
          description: "aa",
          unit: "aa",
          make: "aa",
          quantity: 8,
          costPrice: 90,
          sellingPrice: 900,
          poPrice: 890,
          poTotal: 7120,
          tax: {
            type: "5% CGST & SGST",
            value: 5,
            id: "5-cgst-sgst",
          },
        },
      ],
      isActive: true,
      isDeleted: false,
      _id: "60ce06254c2a6f7310f71fbe",
      idAddedBy: "6071bd0e0a19e0001571b137",
      idProject: "60c9f656797c3e00151cc535",
      idPowo: "60ce06254c2a6f7310f71fb8",
      idBoq: {
        boms: [],
        isPoRaised: true,
        isInBidding: false,
        isDeleted: false,
        isActive: true,
        _id: "60c9f697797c3e00151cc552",
        idAddedBy: "60970cc358c68a0015f3e079",
        idProject: "60c9f656797c3e00151cc535",
        name: "boq_item_3",
        categoryName: "name_3",
        description: "This is the item description",
        unit: "grams",
        make: "NA",
        quantity: 30,
        quantityRemaining: null,
        quantityProcessed: null,
        utilizedBudget: 0,
        pendingBudget: 12000,
        costPrice: 400,
        sellingPrice: 500,
        poPrice: 10,
        actionRecommended: null,
        status: null,
        indent: [],
        createdAt: "2021-06-16T13:03:19.591Z",
        updatedAt: "2021-06-19T14:58:45.457Z",
        __v: 0,
        discount: 0,
      },
      tax: [{ type: "gst", value: 10 }],
      discount: 0,
      idVendor: "60c2eeeb1cdb2c0015b793be",
      createdAt: "2021-06-19T14:58:45.541Z",
      updatedAt: "2021-06-19T14:58:45.541Z",
      __v: 0,
    },
    {
      idBoms: [],
      isActive: true,
      isDeleted: false,
      _id: "60ce06254c2a6f7310f71fc0",
      idAddedBy: "6071bd0e0a19e0001571b137",
      idProject: "60c9f656797c3e00151cc535",
      idPowo: "60ce06254c2a6f7310f71fb8",
      idBoq: {
        boms: [],
        isPoRaised: true,
        isInBidding: false,
        isDeleted: false,
        isActive: true,
        _id: "60c9f697797c3e00151cc554",
        idAddedBy: "60970cc358c68a0015f3e079",
        idProject: "60c9f656797c3e00151cc535",
        name: "boq_item_4",
        categoryName: "name_4",
        description: "This is the item description",
        unit: "grams",
        make: "NA",
        quantity: 40,
        quantityRemaining: null,
        quantityProcessed: null,
        utilizedBudget: 0,
        pendingBudget: 20000,
        costPrice: 500,
        sellingPrice: 600,
        poPrice: 20,
        actionRecommended: null,
        status: null,
        indent: [],
        createdAt: "2021-06-16T13:03:19.591Z",
        updatedAt: "2021-06-16T13:03:19.591Z",
        __v: 0,
        discount: 0,
      },
      tax: [{ type: "gst", value: 10 }],
      discount: 0,
      idVendor: "60c2eeeb1cdb2c0015b793be",
      createdAt: "2021-06-19T14:58:45.541Z",
      updatedAt: "2021-06-19T14:58:45.541Z",
      __v: 0,
    },
  ],
};

generateInvoiceFromPowo(details.powo, details.powoItems);
